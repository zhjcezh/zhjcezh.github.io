---
layout:     post
title:      "计算机网络复习"
subtitle:   ""
date:       2019-08-27 14:00:00
author:     "Cfeng"
header-img: "img/home-bg-o.jpg"
catalog: true
tags:
- 计算机网络
---
**_网络把主机连接起来，而互联网是把多种不同的网络连接起来，因此互联网是网络的网络。_**    
     
## 主机之间的通信方式
* 客户-服务器（C/S）：客户是服务的请求方，服务器是服务的提供方。    
* 对等（P2P）：不区分客户和服务器。         

## 计算机网络体系结构
1. 五层协议      
    * 应用层 ：为特定应用程序提供数据传输服务，例如 HTTP、DNS 等协议。数据单位为报文。     
    * 传输层 ：为进程提供通用数据传输服务。由于应用层协议很多，定义通用的传输层协议就可以支持不断增多的应用层协议。运输层包括两种协议：传输控制协议 TCP，提供面向连接、可靠的数据传输服务，数据单位为报文段；用户数据报协议 UDP，提供无连接、尽最大努力的数据传输服务，数据单位为用户数据报。TCP 主要提供完整性服务，UDP 主要提供及时性服务。     
    * 网络层 ：为主机提供数据传输服务。而传输层协议是为主机中的进程提供数据传输服务。网络层把传输层传递下来的报文段或者用户数据报封装成分组。     
    * 数据链路层 ：网络层针对的还是主机之间的数据传输服务，而主机之间可以有很多链路，链路层协议就是为同一链路的主机提供数据传输服务。数据链路层把网络层传下来的分组封装成帧。    
    * 物理层 ：考虑的是怎样在传输媒体上传输数据比特流，而不是指具体的传输媒体。物理层的作用是尽可能屏蔽传输媒体和通信手段的差异，使数据链路层感觉不到这些差异。    

传输层最主要的协议是TCP和UDP协议，网络层最重要的协议是IP协议。  
           
2. TCP/IP    
它只有四层，相当于五层协议中数据链路层和物理层合并为网络接口层。     
TCP/IP 体系结构不严格遵循 OSI 分层概念，应用层可能会直接使用 IP 层或者网络接口层。       
   
## 物理层   

物理层的主要任务就是确定与传输媒体接口有关的一些特性，如机械特性，电气特性，功能特性，过程特性    

**通信方式:**    
根据信息在传输线上的传送方向，分为以下三种通信方式:  
* 单工通信：单向传输     
* 半双工通信：双向交替传输   
* 全双工通信：双向同时传输    
     
**带通调制**    
模拟信号是连续的信号，数字信号是离散的信号。带通调制把数字信号转换为模拟信号。     

## 数据链路层     
1. 封装成帧：将网络层传下来的分组添加首部和尾部，用于标记帧的开始和结束。      
2. 透明传输：透明表示一个实际存在的事物看起来好像不存在一样。这个过程透明传输的内容是转义字符，用户察觉不到转义字符的存在            
3. 差错检测：目前数据链路层广泛使用了循环冗余检验（CRC）来检查比特差错。     
      
**信道分类:**          
1. 广播信道:一对多通信，一个节点发送的数据能够被广播信道上所有的节点接收到。为避免发生冲突（冲突也叫碰撞），主要有两种控制方法进行协调，一个是使用信道复用技术，一是使用 CSMA/CD 协议。        
2. 点对点信道:一对一通信。因为不会发生碰撞，因此也比较简单，使用 PPP 协议进行控制           
        
**信道复用技术**     
1. 频分复用：频分复用的所有主机在相同的时间占用不同的频率带宽资源。        
2. 时分复用：时分复用的所有主机在不同的时间占用相同的频率带宽资源。                 
3. 统计时分复用：是对时分复用的一种改进，不固定每个用户在时分复用帧中的位置，只要有数据就集中起来组成统计时分复用帧然后发送。      
      
**CSMA/CD 协议**      
CSMA/CD 表示载波监听多点接入 / 碰撞检测。    
    
* 多点接入 ：说明这是总线型网络，许多主机以多点的方式连接到总线上。
* 载波监听 ：每个主机都必须不停地监听信道。在发送前，如果监听到信道正在使用，就必须等待。
* 碰撞检测 ：在发送中，如果监听到信道已有其它主机正在发送数据，就表示发生了碰撞。虽然每个主机在发送数据之前都已经监听到信道为空闲，但是由于电磁波的传播时延的存在，还是有可能会发生碰撞。
     
记端到端的传播时延为 τ，最先发送的站点最多经过 2τ 就可以知道是否发生了碰撞，称 2τ 为 争用期 。只有经过争用期之后还没有检测到碰撞，才能肯定这次发送不会发生碰撞。     
当发生碰撞时，站点要停止发送，等待一段时间再发送。这个时间采用 截断二进制指数退避算法 来确定。从离散的整数集合 {0, 1, .., (2k-1)} 中随机取出一个数，记作 r，然后取 r 倍的争用期作为重传等待时间。     

**MAC 地址**     
MAC 地址是链路层地址，长度为 6 字节（48 位），用于**唯一标识网络适配器**（网卡）。     
一台主机拥有多少个网络适配器就有多少个 MAC 地址。例如笔记本电脑普遍存在无线网络适配器和有线网络适配器，因此就有两个 MAC 地址。          
      
## 网络层       
因为网络层是整个互联网的核心，因此应当让网络层尽可能简单。网络层向上只提供简单灵活的、无连接的、尽最大努力交互的数据报服务。      
使用 IP 协议，可以把异构的物理网络连接起来，使得在网络层看起来好像是一个统一的网络。       
与 IP 协议配套使用的还有三个协议：    
* 地址解析协议 ARP（Address Resolution Protocol）       
* 网际控制报文协议 ICMP（Internet Control Message Protocol）    
* 网际组管理协议 IGMP（Internet Group Management Protocol）           
       
       
       
       
          