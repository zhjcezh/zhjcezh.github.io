---
layout:     post
title:      "Java基础"
subtitle:   ""
date:       2019-08-14 14:00:00
author:     "Cfeng"
header-img: "img/home-bg-o.jpg"
catalog: true
tags:
- 学习计划
---
      
## 1.装箱拆箱   
装箱：将基本类型用它们对应的引用类型包装起来；   
拆箱：将包装类型转换为基本数据类型；     
```   
Integer x = 2;     // 装箱  调用了 Integer.valueOf(2);   int->Integer
int y = x;         // 拆箱  调用了 Integer.intValue(x);  Integer->int
```   
     
## 2.缓冲池
基本类型对应的缓冲池如下：
> boolean values true and false   
> all byte values   
> short values between -128 and 127   
> int values between -128 and 127   
> char in the range \u0000 to \u007F   
在使用这些基本类型对应的包装类型时，如果该数值范围在缓冲池范围内，就可以直接使用缓冲池中的对象。   
      
在 jdk 1.8 所有的数值类缓冲池中，Integer 的缓冲池 IntegerCache 很特殊，这个缓冲池的下界是 - 128，上界默认是 127，但是这个上界是可调的，在启动 jvm 的时候，通过 -XX:AutoBoxCacheMax=<size> 来指定这个缓冲池的大小，该选项在 JVM 初始化的时候会设定一个名为 java.lang.IntegerCache.high 系统属性，然后 IntegerCache 初始化的时候就会读取该系统属性来决定上界。    
   
## 3.字符串   
```  
public final class String
    implements java.io.Serializable, Comparable<String>, CharSequence,
               Constable, ConstantDesc {
    @Stable
    private final byte[] value;
    private final byte coder;
```  
String 被声明为 final，因此它不可被继承   
String 类的实现用 byte 数组存储字符串，同时使用 coder 来标识使用了哪种编码。    
       
**String, StringBuffer and StringBuilder**    
StringBuilder 与 StringBuffer 都继承自 AbstractStringBuilder 类，在 AbstractStringBuilder 中也是使用 byte 数组存储,但是没有用 final 关键字修饰   
**线程安全性**     
String 中的对象是不可变的，也就可以理解为常量，线程安全。     
AbstractStringBuilder 是 StringBuilder 与 StringBuffer 的公共父类，定义了一些字符串的基本操作，如 expandCapacity、append、insert、indexOf 等公共方法。StringBuffer 对方法加了同步锁或者对调用的方法加了同步锁，所以是线程安全的。StringBuilder 并没有对方法进行加同步锁，所以是非线程安全的。　     
      
在 Java 7，String Pool 被移到堆中。这是因为永久代的空间有限，在大量使用字符串的场景下会导致 OutOfMemoryError 错误。    
     
## 4. 封装 继承 多态     
**封装**   
封装把一个对象的属性私有化，同时提供一些可以被外界访问的属性的方法，如果属性不想被外界访问，我们大可不必提供方法给外界访问。但是如果一个类没有提供给外界访问的方法，那么这个类也没有什么意义了。    
     
**继承**
继承是使用已存在的类的定义作为基础建立新类的技术，新类的定义可以增加新的数据或新的功能，也可以用父类的功能，但不能选择性地继承父类。通过使用继承我们能够非常方便地复用以前的代码。   
     
1. 子类拥有父类对象所有的属性和方法（包括私有属性和私有方法），但是父类中的私有属性和方法子类是无法访问，只是拥有。   
2. 子类可以拥有自己属性和方法，即子类可以对父类进行扩展。    
3. 子类可以用自己的方式实现父类的方法。（以后介绍）。      
      
> 接口的方法默认是 public，所有方法在接口中不能有实现(Java 8 开始接口方法可以有默认实现），而抽象类可以有非抽象的方法。    
> 接口中除了static、final变量，不能有其他变量，而抽象类中则不一定。    
> 一个类可以实现多个接口，但只能实现一个抽象类。接口自己本身可以通过extends关键字扩展多个接口。      
> 从设计层面来说，抽象是对类的抽象，是一种模板设计，而接口是对行为的抽象，是一种行为的规范。    
> 备注：在JDK8中，接口也可以定义静态方法，可以直接用接口名调用。实现类和实现是不可以调用的。如果同时实现两个接口，接口中定义了一样的默认方法，则必须重写，不然会报错。    

**多态**
所谓多态就是指程序中定义的引用变量所指向的具体类型和通过该引用变量发出的方法调用在编程时并不确定，而是在程序运行期间才确定，即一个引用变量到底会指向哪个类的实例对象，该引用变量发出的方法调用到底是哪个类中实现的方法，必须在由程序运行期间才能决定。   
     
在Java中有两种形式可以实现多态：继承（多个子类对同一方法的重写）和接口（实现接口并覆盖接口中同一方法）。    

## 5.static   
