---
layout:     post
title:      "Java I/O"
subtitle:   ""
date:       2019-08-26 14:00:00
author:     "Cfeng"
header-img: "img/home-bg-o.jpg"
catalog: true
tags:
- Java巩固
---
Java 的 I/O 大概可以分成以下几类：      
     
* 磁盘操作：File  
* 字节操作：InputStream 和 OutputStream   
* 字符操作：Reader 和 Writer  
* 对象操作：Serializable  
* 网络操作：Socket  
* 新的输入/输出：NIO   

## 同步与异步

同步： 同步就是发起一个调用后，被调用者未处理完请求之前，调用不返回。    
异步： 异步就是发起一个调用后，立刻得到被调用者的回应表示已接收到请求，但是被调用者并没有返回结果，此时我们可以处理其他的请求，被调用者通常依靠事件，回调等机制来通知调用者其返回结果。    

同步和异步的区别最大在于异步的话调用者不需要等待处理结果，被调用者会通过回调等机制来通知调用者其返回结果。       

## 阻塞和非阻塞

阻塞： 阻塞就是发起一个请求，调用者一直等待请求结果返回，也就是当前线程会被挂起，无法从事其他任务，只有当条件就绪才能继续。    
非阻塞： 非阻塞就是发起一个请求，调用者不用一直等着结果返回，可以先去干其他事情。     
     
     
举个生活中简单的例子，你妈妈让你烧水，小时候你比较笨啊，在那里傻等着水开（同步阻塞）。等你稍微再长大一点，你知道每次烧水的空隙可以去干点其他事，然后只需要时不时来看看水开了没有（同步非阻塞）。后来，你们家用上了水开了会发出声音的壶，这样你就只需要听到响声后就知道水开了，在这期间你可以随便干自己的事情，你需要去倒水了（异步非阻塞）。      


     
## 序列化
序列化就是将一个对象转换成字节序列，方便存储和传输。   
  
* 序列化：ObjectOutputStream.writeObject()  
* 反序列化：ObjectInputStream.readObject()  
     
不会对静态变量进行序列化，因为序列化只是保存对象的状态，静态变量属于类的状态。    
序列化的类需要实现 Serializable 接口，它只是一个标准，没有任何方法需要实现，但是如果不去实现它的话而进行序列化，会抛出异常。   
transient 关键字可以使一些属性不会被序列化。     

## NIO  
新的输入/输出 (NIO) 库是在 JDK 1.4 中引入的，弥补了原来的 I/O 的不足，提供了高速的、面向块的 I/O。   
     
**流与块:**    
I/O 与 NIO 最重要的区别是数据打包和传输的方式，I/O 以流的方式处理数据，而 NIO 以**块**的方式处理数据。
     
**通道与缓冲区:**   
通道 Channel 是对原 I/O 包中的流的模拟，可以通过它读取和写入数据。   
通道是双向的，可以用于读、写或者同时用于读写    
     
发送给一个通道的所有数据都必须首先放到缓冲区中，同样地，从通道中读取的任何数据都要先读到缓冲区中。          



NIO 与普通 I/O 的区别主要有以下两点：      
1. NIO 是非阻塞的；    
2. NIO 面向块，I/O 面向流。      
     



      